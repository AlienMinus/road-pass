<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Odisha Form-Y Transit Pass</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<script src="https://cdnjs.cloudflare.com/ajax/libs/qrcodejs/1.0.0/qrcode.min.js"></script>

<style>

/* -------------------- A4 PRINT SETTINGS -------------------- */
@page {
    size: A4;
    margin: 12mm 10mm 12mm 10mm;
}
body {
    font-family: "Times New Roman", serif;
    margin: 0;
    background: #f0f0f0;
}

/* Page wrapper */
.wrapper {
    width: 100%;
    max-width: 1200px;
    margin: auto;
}

/* -------------------- INPUT FORM -------------------- */
.card {
    background: #fff;
    padding: 15px;
    border-radius: 6px;
    margin: 20px auto;
    box-shadow: 0 2px 4px rgba(0,0,0,0.25);
}
input, textarea {
    width: 100%;
    padding: 6px;
    border: 1px solid #999;
    border-radius: 4px;
    font-size: 14px;
}
.grid {
    display: grid;
    grid-template-columns: repeat(auto-fit,minmax(200px,1fr));
    gap: 10px;
}
button {
    padding: 8px 16px;
    background: #0033A1;
    border: none;
    color: white;
    border-radius: 4px;
    cursor: pointer;
    font-size: 14px;
}

/* -------------------- PASS PAGE -------------------- */
.pass-page {
    background: #fff;
    padding: 15px;
    border-radius: 6px;
    box-shadow: 0 2px 4px rgba(0,0,0,0.25);
    display: none;
}

/* Two columns (Original + Duplicate) */
.twocol {
    display: grid;
    grid-template-columns: 1fr 1fr;
    column-gap: 0px;
    border: 1px solid #000;
}

.col {
    padding: 0 20px;
    font-size: 11px;
    position: relative;
}

/* Vertical dotted divider */
.divider {
    border-left: 2px dotted black;
}

/* Header */
.logo {
    height: 55px;
    margin-top: 10px;
}
.header {
    text-align: center;
    line-height: 15px;
    margin-top: 5px;
    margin-bottom: 5px;
}

/* Pass No placement EXACT like govt format */
.pass-no-block {
    position: absolute;
    right: 20px;
    top: 92px;
    text-align: right;
    font-size: 11px;
}
.pass-no-block .small {
    display: block;
}
.pass-no-number {
    color: #0033A1;
    border-bottom: 1px dotted #0033A1;
    font-weight: bold;
    min-width: 130px;
    display: inline-block;
    text-align: right;
}

/* ----------------- Question - Answer TABLE EXACT FORMAT ----------------- */
.row {
    display: grid;
    grid-template-columns: 37% 63%;
    margin: 4px 0;
}
.q {
    font-size: 11px;
    line-height: 13px;
}
.a {
    font-size: 11px;
    font-weight: bold;
    color: #0033A1;
    border-bottom: 1px dotted #0033A1;
    padding: 0 2px;
    display: inline-block;
}

/* Underline sizes EXACT to sample */
.short      { width: 90px; }
.medium     { width: 120px; }
.long       { width: 200px; }
.xlong      { width: 270px; }

/* TABLE for Length/Breadth/Height EXACT */
.measure-table {
    width: 80%;
    border-collapse: collapse;
    margin-top: 4px;
}
.measure-table th, .measure-table td {
    border: 1px solid black;
    padding: 3px;
    text-align: center;
    font-size: 11px;
}
.measure-table td span {
    display: inline-block;
    border-bottom: 1px dotted #0033A1;
    color: #0033A1;
    width: 70px;
    font-weight: bold;
}

/* QR + Signature EXACT layout */
.bottom-section {
    display: grid;
    grid-template-columns: 100px auto;
    margin-top: 10px;
}
.sign-block {
    font-size: 10px;
    line-height: 14px;
}
.center {
    text-align: center;
}
.bold {
    font-weight: bold;
}
 .signature-section {
    width: 100%;
    margin-top: 20px;
    font-family: "Times New Roman", serif;
    font-size: 12px;
  }

  .signature-section table {
    width: 100%;
    border-collapse: collapse;
  }

  .signature-section td {
    width: 33%;
    vertical-align: top;
    padding: 4px 10px;
    text-align: left;
  }

 
    .office-seal {
        text-align: center !important;
        font-weight: bold;
        padding-top: 10px;
    }
/* Print mode */
@media print {
    .card, #printBtn, h1 { display: none !important; }
    body { background: white; }
    .pass-page { box-shadow: none; border: none; }
}

</style>
</head>
<body>

<div class="wrapper">

<h1 style="text-align:center;">Odisha Form-Y Transit Pass Generator</h1>


<!-- -------------------- INPUT FORM -------------------- -->
<div class="card">
<form id="form">

<div class="grid">
    <div><label>Book No.</label><input id="book"></div>
    <div><label>From Date & Time</label><input id="fromDT" type="datetime-local"></div>
    <div><label>To Date & Time</label><input id="toDT" type="datetime-local"></div>
    <div><label>Circle Mining Office</label><input id="circle" value="Bhadrak" readonly></div>
    <div><label>Quarry/Source</label><input id="quarry" value="Mankidia - ka" readonly></div>
    <div><label>Licensee/Lessee</label><input id="license" value="Susanta Kumar Sahoo" readonly></div>
    <div><label>Destination</label><textarea id="dest"></textarea></div>
    <div><label>Route</label><textarea id="route"></textarea></div>
    <div><label>Mineral</label><input id="mineral" value="Sand" readonly></div>
    <div><label>Permit No.</label><input id="permit"></div>
    <div><label>Permit Date</label><input id="permitDate" type="date"></div>
    <div>
    <label>Quantity</label>
    <select id="qty">
        <option value="30.00 Cum">30 Cum</option>
        <option value="22.00 Cum">22 Cum</option>
        <option value="18.00 Cum">18 Cum</option>
        <option value="14.00 Cum">14 Cum</option>
        <option value="8.00 Cum">8 Cum</option>
        <option value="5.00 Cum">5 Cum</option>
        <option value="3.00 Cum">3 Cum</option>
        <option value="2.00 Cum">2 Cum</option>
    </select>
</div>

    <div><label>Vehicle No.</label><input id="vehicle"></div>
    <div><label>Length</label><input id="len"></div>
    <div><label>Breadth</label><input id="br"></div>
    <div><label>Height</label><input id="ht"></div>
    <div><label>Cubic Content</label><input id="cc"></div>
    <div><label>Gross Weight</label><input id="gw"></div>
    <div><label>Tare Weight</label><input id="tw"></div>
    <div><label>Mineral Weight</label><input id="mw"></div>
</div>

<br>
<button type="submit">Generate Pass</button>

</form>
</div>


<!-- -------------------- GENERATED PASS (PRINT FORMAT) -------------------- -->
<div class="pass-page" id="passPage">

<div class="twocol">

<!------------------ ORIGINAL COPY COLUMN ------------------>
<div class="col">

<div class="header">
    <img src="logo.png" class="logo">
    <div><b>GOVERNMENT OF ODISHA</b></div>
    <div><b>DEPARTMENT OF STEEL & MINES</b></div>
    <div><b>FORM-Y</b></div>
    <div>[See rule 58(1)]</div>
    <br>
    <div><b>TRANSIT PASS</b></div>
    <div><b>FOR MINOR MINERALS</b></div>
    <br>
    <div style="position:absolute; top:10px; right:20px; font-weight:bold;">ORIGINAL COPY</div>
</div>

<div class="pass-no-block">
    <span class="small">Pass</span>
    <span class="small">No.</span>
    <span id="p1" class="pass-no-number"></span>
</div>

<br><br><br>

<!-- Strict Govt Q/A Layout -->
<div class="row"><div class="q">1. Book No.</div> <div class="a short" id="b1"></div></div>
<div class="row"><div class="q">   Date & Time</div> <div class="a long" id="dt1"></div></div>

<div class="row"><div class="q">2. Circle Mining Office</div> <div class="a medium" id="c1"></div></div>

<div class="row"><div class="q">3. Name of the Quarry/Lease/Source of Auction</div> <div class="a long" id="q1"></div></div>

<div class="row"><div class="q">4. Name of the Licensee/Lessee/Permit Holder/Auction Purchaser</div> <div class="a long" id="l1"></div></div>

<div class="row"><div class="q">5. Destination</div> <div class="a medium" id="d1"></div></div>
<div class="row"><div class="q">   Route</div> <div class="a xlong" id="r1"></div></div>

<div class="row"><div class="q">6. Minor Mineral</div> <div class="a short" id="m1"></div></div>

<div class="row"><div class="q">7. Permit No.</div> <div class="a short" id="pm1"></div></div>
<div class="row"><div class="q">   Date</div> <div class="a short" id="pd1"></div></div>

<div class="row"><div class="q">8. Quantity Permitted (Cum/Tonnes)</div> <div class="a short" id="qnt1"></div></div>

<div class="row"><div class="q">9. Measurement of Mineral in Carrier (in meter)</div> <div class="a medium" id="v1"></div></div>

<!-- TABLE EXACT -->
<table class="measure-table">
    <tr><th>Length</th><th>Breadth</th><th>Height</th></tr>
    <tr>
        <td><span id="ln1"></span></td>
        <td><span id="br1"></span></td>
        <td><span id="ht1"></span></td>
    </tr>
</table>

<div class="row"><div class="q">10. Cubic Content (Cum)</div> <div class="a short" id="cc1"></div></div>

<div class="row"><div class="q">11. Weight of Vehicle (Tonnes) Gross</div> <div class="a short" id="gw1"></div></div>
<div class="row"><div class="q">   Tare</div> <div class="a short" id="tw1"></div></div>

<div class="row"><div class="q">12. Weight of Mineral</div> <div class="a short" id="mw1"></div></div>


<!-- QR + Signature EXACT -->
<div class="bottom-section">
    <div id="qr1"></div>
   <div class="signature-section">
  <table>
    <tr>
      <td>
        Signature of the<br>
        person Issuing with<br>
        date
      </td>

      <td>
        Signature of the<br>
        carrier Driver with<br>
        date
      </td>

      <td>
        Signature of the<br>
        checking staff with<br>
        date
      </td>
    </tr>

    <tr>
      <td>
        Signature of the person receiving<br>
        at the destination with date
      </td>

      <td></td>

      <td>
        Signature of Inspector<br>
        I/C with date &amp; time
      </td>
    </tr>

    <tr>
      <td colspan="3" class="office-seal">
        <strong>Office Seal</strong>
      </td>
    </tr>
  </table>
</div>
</div>

</div>



<!------------------ DUPLICATE COPY COLUMN ------------------>
<div class="col divider">

<div class="header">
    <img src="logo.png" class="logo">
    <div><b>GOVERNMENT OF ODISHA</b></div>
    <div><b>DEPARTMENT OF STEEL & MINES</b></div>
    <div><b>FORM-Y</b></div>
    <div>[See rule 58(1)]</div>
    <br>
    <div><b>TRANSIT PASS</b></div>
    <div><b>FOR MINOR MINERALS</b></div>
    <br>
    <div style="position:absolute; top:10px; right:20px; font-weight:bold;">DUPLICATE COPY</div>
</div>

<div class="pass-no-block">
    <span class="small">Pass</span>
    <span class="small">No.</span>
    <span id="p2" class="pass-no-number"></span>
</div>

<br><br><br>


<!-- Same strict Q/A layout -->
<div class="row"><div class="q">1. Book No.</div> <div class="a short" id="b2"></div></div>
<div class="row"><div class="q">   Date & Time</div> <div class="a long" id="dt2"></div></div>

<div class="row"><div class="q">2. Circle Mining Office</div> <div class="a medium" id="c2"></div></div>

<div class="row"><div class="q">3. Name of the Quarry/Lease/Source of Auction</div> <div class="a long" id="q2"></div></div>

<div class="row"><div class="q">4. Name of the Licensee/Lessee/Permit Holder/Auction Purchaser</div> <div class="a long" id="l2"></div></div>

<div class="row"><div class="q">5. Destination</div> <div class="a medium" id="d2"></div></div>
<div class="row"><div class="q">   Route</div> <div class="a xlong" id="r2"></div></div>

<div class="row"><div class="q">6. Minor Mineral</div> <div class="a short" id="m2"></div></div>

<div class="row"><div class="q">7. Permit No.</div> <div class="a short" id="pm2"></div></div>
<div class="row"><div class="q">   Date</div> <div class="a short" id="pd2"></div></div>

<div class="row"><div class="q">8. Quantity Permitted (Cum/Tonnes)</div> <div class="a short" id="qnt2"></div></div>

<div class="row"><div class="q">9. Measurement in Truck Vehicle No.</div> <div class="a medium" id="v2"></div></div>

<table class="measure-table">
    <tr><th>Length</th><th>Breadth</th><th>Height</th></tr>
    <tr>
        <td><span id="ln2"></span></td>
        <td><span id="br2"></span></td>
        <td><span id="ht2"></span></td>
    </tr>
</table>

<div class="row"><div class="q">10. Cubic Content (Cum)</div> <div class="a short" id="cc2"></div></div>

<div class="row"><div class="q">11. Weight of Vehicle (Tonnes) Gross</div> <div class="a short" id="gw2"></div></div>
<div class="row"><div class="q">   Tare</div> <div class="a short" id="tw2"></div></div>

<div class="row"><div class="q">12. Weight of Mineral</div> <div class="a short" id="mw2"></div></div>

<div class="bottom-section">
    <div id="qr2"></div>
    <div class="signature-section">
  <table>
    <tr>
      <td>
        Signature of the<br>
        person Issuing with<br>
        date
      </td>
      <td>
        Signature of the<br>
        carrier Driver with<br>
        date
      </td>
      <td>
        Signature of the<br>
        checking staff with<br>
        date
      </td>
    </tr>
    <tr>
      <td>
        Signature of the person receiving<br>
        at the destination with date
      </td>
      <td></td>
      <td>
        Signature of Inspector<br>
        I/C with date &amp; time
      </td>
    </tr>
    <tr>
      <td colspan="3" class="office-seal">
        Office Seal
      </td>
    </tr>
  </table>
</div>
</div>

</div>

</div>
</div>

<br>
<button id="printBtn" onclick="window.print()">Print / Download PDF</button>

</div>

<script>

function fmt(dt){
    if(!dt) return "";
    const d = new Date(dt);
    return d.toLocaleDateString("en-GB",{day:"2-digit",month:"short",year:"numeric"})+" "+
           d.toLocaleTimeString("en-GB",{hour:"2-digit",minute:"2-digit",second:"2-digit",hour12:true});
}

document.getElementById("form").onsubmit = function(e){
    e.preventDefault();

    const pn = "A" + Date.now();

    const data = {
        pass: pn,
        book: book.value,
        dt: fmt(fromDT.value) + " - " + fmt(toDT.value),
        circle: "BHADRAK",
        quarry: "MANKIDIA - KA",
        license: "SUSANTA KUMAR SAHOO",
        dest: dest.value.toUpperCase(),
        route: route.value.toUpperCase(),
        mineral: "SAND",
        permit: permit.value.toUpperCase(),
        pdate: permitDate.value,
        qty: qty.value,
        veh: vehicle.value.toUpperCase(),
        len: len.value,
        br: br.value,
        ht: ht.value,
        cc: cc.value,
        gw: gw.value,
        tw: tw.value,
        mw: mw.value
    };

    // Fill Original & Duplicate
    const map = {
        p1:"pass", p2:"pass",
        b1:"book", b2:"book",
        dt1:"dt",  dt2:"dt",
        c1:"circle", c2:"circle",
        q1:"quarry", q2:"quarry",
        l1:"license", l2:"license",
        d1:"dest", d2:"dest",
        r1:"route", r2:"route",
        m1:"mineral", m2:"mineral",
        pm1:"permit", pm2:"permit",
        pd1:"pdate", pd2:"pdate",
        qnt1:"qty", qnt2:"qty",
        v1:"veh", v2:"veh",
        ln1:"len", ln2:"len",
        br1:"br", br2:"br",
        ht1:"ht", ht2:"ht",
        cc1:"cc", cc2:"cc",
        gw1:"gw", gw2:"gw",
        tw1:"tw", tw2:"tw",
        mw1:"mw", mw2:"mw"
    };

    for(let id in map){
        document.getElementById(id).textContent = data[map[id]];
    }

    // QR
    qr1.innerHTML = "";
    qr2.innerHTML = "";
    new QRCode(qr1,{text:pn,width:80,height:80});
    new QRCode(qr2,{text:pn,width:80,height:80});

    passPage.style.display = "block";
    passPage.scrollIntoView({behavior:'smooth'});
};

</script>

</body>
</html>
